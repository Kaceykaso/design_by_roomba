### Finally, a break through!

Just when I was beginning to think I would never understand this iRobot interface and get this working, I found the most helpful documentation ever:

<http://www.cs.gmu.edu/~zduric/cs101/pmwiki.php/Main/Installation>

An upper division CS course at GMU teachs students how to create and operate iRobot Creates, but more importantly, they made a fantastic create.py script and documentation! This was the bridge I was looking for, to make the connection between Create's serial interface and the RPi.

Still utilizing Pyserial, copy this [create.py](../../../../gh-pages/python/create.py) script in the "/dev" directory of your RPi (adjacent the Serial directory), and write your Python script importing the two:

```python
import serial;
import create;

robot = create.Create("/dev/ttyUSB0");

```
A full API doc, explaining each method and its possible parameters, can be found here:

<http://www.cs.gmu.edu/~zduric/cs101/pmwiki.php/Main/APITutorial>

Video proof of the [little test script I wrote](../../../../gh-pages/python/test2.py), uploaded to the RPi, and then ran remotely:

<https://www.youtube.com/watch?v=RIA5MStBmr0&feature=youtu.be>

Also: I found this amazing Python script to make your Roomba or Create [sing the Imperial March](https://gist.github.com/thenoviceoof/5465084), care of [thenoviceof](https://github.com/thenoviceoof).

### Formulating a plan

So I've never had to read or write to a file in Python. Reading up on [Python's Input and Output methods](https://docs.python.org/2/tutorial/inputoutput.html#reading-and-writing-files), and was able to read in the text files written by the PHP page:

<img src="img/terminal_commands.png" height="200">

Getting closer....

### Thoughts on additional layers

Giving more thought to the idea of additional layers to this project; i.e. giving the Create an agent or personality, or simiply "autocompleting" the pictures being made by users.  I think with the direction the project is going, giving it more of a personalty that has a afiinity for certain design aesthetic is the way to go. Making it a prediction engine would be fun and interesting, but I feel like I would need to retool/redesign the whole project, to market it more as such. Since currently the project states that it is a 'design by Roomba', I feel giving the Create opinions/affinity is closer to that goal.

That being sad, I want to test writting an Affinity document, to compare the commands being given against. This will just be another text file, with a list of commands that the Create "likes" (and yes, I am dictating what it likes). If I can average all those commands, and compare it to the latest command given, depending on the outcome, the Create would either be happy or upset about the command. The Create would play a happy or sad tone/song while caring out the command, but after so many "sad" commands, the Create starts to intervene.

Since there are currently 4 commands (possibly more in the future), this will not always be a "yes/no" comparison. So some weighting will have to occur, for example:

| User Command | Create Affinity | Mood |
|:------------:|:---------------:|:----:|
| Up (Forward) | 0 | Indifferent |
| Right turn | +1 | Happy |
| Left turn | +1 | Happy |
| Down (backward) | -1 | Sad|

I may want to expand my directional commands to include turns with movement, either diagonals or spirals:

| User Command | Create Affinity | Mood |
|:------------:|:---------------:|:----:|
| Forward-Right | +2 | Very Happy |
| Forward-Left | +2 | Very Happy |
| Backward-Right | -1 | Sad |
| Backward-Left | -1 | Sad |

Or perhaps, do away with the simple directional commands altogether, and go with simple shapes:

| User Command | Create Affinity | Mood |
|:------------:|:---------------:|:----:|
| Spiral | +2 | Very Happy |
| Circle | +1 | Happy |
| Square | 0 | Indifferent |
| Line | 0 | Indifferent |
| Zigzag | -1 | Sad |
| Triangle | -1 | Sad |

Yet another idea, in addition to having the Create play songs based on its mood, perhaps have a "chat" window along with the user controls on the webpage, where the Create prints out random lines based on its mood.

More on that point, could potentionally take in user comments and analyze them in the PHP, having the Create respond back with a similated "conversation"; similar to my [Doge Talk](http://github.com/Kaceykaso/DogeTalk) project.
[Back](10.md)
